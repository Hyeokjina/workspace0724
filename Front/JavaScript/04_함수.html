<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    .area{
        border:  1px solid black;
        width: 300px;
        height: 100px;
    }
</style>
<body>
    <h1>함수(function)</h1>

    <h3>선언적 함수</h3>
    <pre>
        function 함수명([매개변수, 매개변수,...]){
            함수 호출시 실행할 코드

            [return 결과 값;]
        }
    </pre>
    
    <button onclick="test1()">실행</button>
    <div id="area1" class="area"></div>

    <script>
        function test1(){
            document.querySelector("#area1").innerHTML += "test1함수 실행됨<br>";
        }
    </script>

    <h3>익명함수</h3>
    <pre>
        변수 | 속성 = function([매개변수, 매개변수,...]){
                        함수 호출시 실행할 코드

                        [return 결과 값;]
        }
    </pre>

    <button id="btn">이벤트 속성으로 실행</button>
    <button onclick="test2()">변수로 실행</button>

    <div id="area2" class="area"></div>
    <script>
        let test2 = function(){
            document.getElementById('area2').innerHTML = '익명함수를 변수에 담아서 실행';
        }

        let btn = document.getElementById('btn');
        btn.onclick = function(){
            document.getElementById('area2').innerHTML = "이벤트 핸들러로 실행";
        }
        // 이벤트 : 브라우저에서 발생하는 모든 동작(click, keyup, drag, ...)
        // 이벤트 헨들러 : 특정 이벤트가 발생했을 떄 실행 되는 함수
    </script>

    <hr>
    
    <h2>함수의 매개변수</h2>
    <button onclick="test3('최지원', 15,'경기도 군포시');">실행확인</button>
    <button onclick="test3('최지원', 15);">실행확인</button>
    <button onclick="test3('최지원', 15,'경기도 군포시','남자',false);">실행확인</button>

    <div id="area3" class="area"></div>
    <script>
        function test3(name, age, address){
            console.log(arguments); //함수 호출시 전달된 인자를 내부적으로 arguments에 베열로 담아둠
            document.getElementById('area3').innerHTML = name + " " + age + " " + address;
        }
    </script>
    
    <br>

    <h2>함수, 객체를 매개변수로 활용</h2>
    <script>
        let userInfo;
        //아이디, 비밀번호를 전달해서 유저 정보 가져오기
        function login(loginInfo, callback){
            //로그인 정보를 가지고 서버에 전달
            //결과에 따라서 로그인 성공

            console.log("서버에 요청 : " + loginInfo);
            setTimeout(function(){ //서버에 요청을 보내고 응답에 3초 정도 시간이 걸린다는 가정
                //서버에서 응답 성공후 user정보 반환
                let serverInfo = {
                    userId : 'user01',
                    userPwd : 'pass01',
                    name : '최지원',
                    age : 55
                }

                callback(serverReturnInfo);
          }, 3000) //첫번째 인자로 전달된 함수는 두번째 인자의 시간(ms)만큼 딜레이 후 실행됨.
          console.log('함수 실행 후');
        }

        let id = 'user01';
        let pwd = 'pass01';
        login({
            userId : id,
            userPwd : pwd
        }, function(userInfo){
            console.log(userInfo);
        });
        
    </script>
</body>
</html>